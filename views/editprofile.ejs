<%- include("partials/header") %>

    <body>

        <div class="container">
            <header class="d-flex flex-wrap  py-3 mb-4 border-bottom">
                <h1 class="display-5 fw-bold">ThriveLife</h1>
            </header>

            
            <h2>Edit Profile</h2><br>
            <form action="/editprofile" method="post">
                <h4>Personal Details</h4>
                <div class="row g-2">
                <div class="col-lg-6">
                    <label for="name" class="form-label">Full name (as mentioned in the government records)</label>
                    <input type="text" class="form-control" id="name" name="name" required value="<%=currUser1.name %>">
                </div>
                <div class="col-lg-6">
                    <label for="email" class="form-label">Personal email address</label>
                    <input type="email" class="form-control" id="email" name="email" required value="<%=currUser1.email %>">
                </div>
                </div>
                <br>

            

                    <div class="row g-2">
                        <div class="col-lg-6">
                            <label for="createpwd" class="form-label">Aadhaar No.</label>
                        <input type="number" class="form-control" id="aadhaar" required name="aadhaar" value="<%=currUser1.aadhaar %>">
    
                        </div>
                        <div class="col-lg-6">
                            <label for="createpwd" class="form-label">Mobile No.</label>
                        <input type="number" class="form-control" id="phone" required name="phone" value="<%=currUser1.phone %>">
                        </div>
                        </div>
                        <br>
                        <div class="row g-2">
                            <div class="col-lg-6">
                                <label for="dob" class="form-label">Date of Birth</label>
                            <input type="date" class="form-control" id="dob" required name="dob">
        
                            </div>
                            <script>
                                document.addEventListener("DOMContentLoaded", function () {
                                        const date = new Date("<%=currUser1.dob%>");
                                    const formattedDate = date.toISOString().split('T')[0];
                                    const inputDateElement = document.getElementById("dob");
                                    inputDateElement.value = formattedDate;
                                        });
                            </script>
                            <div class="col-lg-6">
                                <label for="imgURL" class="form-label">Profile photo URL</label>
                            <input type="text" class="form-control" id="imgURL" name="imgURL" value="<%=currUser1.imgURL %>">
                            </div>
                            </div>
                            <br>

                            <div class="row g-2">
                                <div class="col-lg-6">
                                    <label for="height" class="form-label">Height (in cm)</label>
                                <input type="number" class="form-control" id="height"  name="height" value="<%=currUser1.height %>">
            
                                </div>
                                <div class="col-lg-6">
                                    <label for="weight" class="form-label">Weight (in kg)</label>
                                <input type="number" class="form-control" id="weight"  name="weight" value="<%=currUser1.weight %>">
                                </div>
                                </div>
                                <br>

                        <h4>Residential Details</h4>
                        <div class="row g-2">
                            <div class="col-lg-6">
                                <label for="addr1" class="form-label">Address Line 1</label>
                            <input type="text" class="form-control" id="addr1" required name="addr1" value="<%=currUser1.addr1 %>">
        
                            </div>
                            <div class="col-lg-6">
                                <label for="addr2" class="form-label">Address Line 2</label>
                                <input type="text" class="form-control" id="addr2" name="addr2" value="<%=currUser1.addr2 %>">
                            </div>
                            </div>
                            <br>
                            <div class="row g-2">
                                <div class="col-lg-6">
                                    <label for="city" class="form-label">City</label>
                                <input type="text" class="form-control" id="city" required name="city" value="<%=currUser1.city %>">
            
                                </div>
                                <div class="col-lg-6">
                                    <label for="state" class="form-label">State</label>
                                    <input type="text" class="form-control" id="state"required  name="state" value="<%=currUser1.state %>">
                                </div>
                                </div>
                                <br>
                                <div class="row g-2">
                                    <div class="col-lg-6">
                                        <label for="country" class="form-label">Country</label>
                                    <input type="text" class="form-control" id="country" required name="country" value="<%=currUser1.country %>">
                
                                    </div>
                                    <div class="col-lg-6">
                                        <label for="pincode" class="form-label">PinCode</label>
                                        <input type="text" class="form-control" id="pincode" required name="pincode" value="<%=currUser1.pincode %>">
                                    </div>
                                    </div>
                                    <br>






                                    <h4>Medical Details</h4>
                                    <div class="row g-2">
                                     <div class="col-lg-6">
                                         <label for="hospital" class="form-label">Name of Hospital</label>
                                         <input class="form-control" id="hospital" name="hospital" list="hospital-list" value="<%=currUser1.hospital %>"/>
                                         <datalist name="hospital-list" id="hospital-list">
                                             <option value=""></option>
                                             
                                         </datalist>
                             
                                     </div>
                                     <div class="col-lg-6">
                                         <label for="hospaddr" class="form-label">Address of Hospital</label>
                                         <input type="text" class="form-control" id="hospaddr" required  name="hospaddr" value="<%=currUser1.hospaddr %>">
                                     </div>
                                     </div>
                                     <br>
                                     <div class="row g-2">
                                         <div class="col-lg-6">
                                             <label for="hospphno" class="form-label">Phone No. of Hospital</label>
                                         <input type="number" class="form-control" id="hospphno" required name="hospphno" value="<%=currUser1.hospphno %>">
                             
                                         </div>
                                         <div class="col-lg-6">
                                             <label for="state" class="form-label">Blood Group</label>
                                             <input class="form-control" id="bloodgrp" list="bloodgrp-list" value="<%=currUser1.bloodgrp %>" name="bloodgrp">
                                        <datalist name="bloodgrp-list" id="bloodgrp-list">
                                            <option value="A+ve">A+ve</option>
                                            <option value="A-ve">A-ve</option>
                                            <option value="B+ve">B+ve</option>
                                            <option value="B-ve">B-ve</option>
                                            <option value="AB+ve">AB+ve</option>
                                            <option value="AB-ve">AB-ve</option>
                                            <option value="O+ve">O+ve</option>
                                            <option value="O-ve">O-ve</option></datalist>
                                         </div>
                                         </div>
                                         <br>
            <div class="row g-2">
                

                <div class="col-lg-6">
                    <label for="hosprep" class="form-label">Name of hospital representative</label>
                <input type="text" class="form-control" id="hosprep" name="hosprep" value="<%=currUser1.hosprep %>">
    
                </div>
                <!-- <div class="col-lg-6">
                    <label for="history" class="form-label">Family History</label>
                <textarea rows="5" type="text" class="form-control" id="history" name="history"></textarea>
        
                </div> -->
                
                </div>
                <br>
                <h4>Medical History details</h4>

                <div class="row g-2">
                
                    <div class="col-lg-6">
                        <label for="history" class="form-label">Father's History</label>
                    <textarea rows="2" type="text" class="form-control" id="history_father" name="history_father"><%=currUser1.history_father %></textarea><br>
                    <label for="history" class="form-label">Mother's History</label>
                    <textarea rows="2" type="text" class="form-control" id="history_mother" name="history_mother"><%=currUser1.history_mother %></textarea><br>
                    <label for="history" class="form-label">Siblings' History</label>
                    <textarea rows="2" type="text" class="form-control" id="history_sibling" name="history_sibling"><%=currUser1.history_sibling %></textarea><br>
            
                    </div>
                    
                    </div>
                
                
<br>
                    <h4>Donation Details</h4>

                <div class="row g-2">
                    <div class="col-lg-6">
                        <label class="form-label">What would you like to donate live?</label><br>
                        <% let donate=['Blood','Kidney','Plasma','Bone marrow','System cells','Skin','Lung']; %>
                            <% donate.forEach(function(d){ %>

                                <% if (currUser1.donate.includes(d)){%>
                                <input class="form-check-input" type="checkbox" value="<%=d %>" name="donate" checked>
                                <label class="form-check-label"><%= d[0].toUpperCase()+d.slice(1) %></label><br>
                                <% } else { %>
                                    <input class="form-check-input" type="checkbox" value="<%=d %>" name="donate">
                                <label class="form-check-label"><%=d[0].toUpperCase()+d.slice(1) %></label><br>
                                <%}%>
                            <% }) %> 
                    
                    
        
                    </div>

                    <div class="col-lg-6">

                        <label class="form-label">What would you like to donate after death?</label><br>
                        <% let donatedeath=['Heart','Full Body','Liver','Eyes','Cornea','Intestines','Lungs','Kidneys','Pancreas','Heart Valves','Blood vessels']; %>
                            <% donatedeath.forEach(function(d){ %>

                                <% if (currUser1.donatedeath.includes(d)){%>
                                <input class="form-check-input" type="checkbox" value="<%=d %>" name="donatedeath" checked>
                                <label class="form-check-label"><%= d[0].toUpperCase()+d.slice(1) %></label><br>
                                <% } else { %>
                                    <input class="form-check-input" type="checkbox" value="<%=d %>" name="donatedeath">
                                <label class="form-check-label"><%=d[0].toUpperCase()+d.slice(1) %></label><br>
                                <%}%>
                            <% }) %> 
                    
                    
                    </div>
                    
                    </div>
                    <br>

                    <h4>Miscellaneous Details</h4>

                <% var problems=['diabetic','cholesterol','hypertension','surgeries'] %>
                    <% if(currUser1.misc.includes('diabetic')){%>
                        <input class="form-check-input" name="misc" type="checkbox" value="diabetic" id="diabetic" checked>

                  <%  } else{ %>
                        <input class="form-check-input" name="misc" type="checkbox" value="diabetic" id="diabetic">
                   <% }%>
                        <label class="form-check-label" for="diabetic">
                            Any diabetic problems?
                        </label>
                        <br>

                        <% if(currUser1.misc.includes('cholesterol')){%>
                            <input class="form-check-input" name="misc" type="checkbox" value="cholesterol" id="cholesterol" checked>
    
                      <%  } else{ %>
                        <input class="form-check-input" name="misc" type="checkbox" value="cholesterol" id="cholesterol">
                       <% }%>

                        <label class="form-check-label" for="cholesterol">
                            Any cholesterol problems?
                        </label>
                        <br>
                        <% if(currUser1.misc.includes('hypertension')){%>
                            <input class="form-check-input" name="misc" type="checkbox" value="hypertension" id="hypertension" checked>
    
                      <%  } else{ %>
                        <input class="form-check-input" name="misc" type="checkbox" value="hypertension" id="hypertension">
                       <% }%>

                        <label class="form-check-label" for="hypertension">
                            Any problems related to hypertension?
                        </label>
                        <br>

                        <% if(currUser1.misc.includes('surgeries')){%>
                            <input class="form-check-input" name="misc" type="checkbox" value="surgeries" id="surgeries" checked>
    
                      <%  } else{ %>
                        <input class="form-check-input" name="misc" type="checkbox" value="surgeries" id="surgeries">
                       <% }%>

                        <label class="form-check-label" for="surgeries">
                            Have you had any major surgeries in the last 1 year?

                        <br></label><br>
    
                 
                    

                <div class="form-check"><br>
                    <input class="form-check-input" type="checkbox" value="" id="flexCheckDefault">
                    <label class="form-check-label" for="flexCheckDefault">
                        I declare that all the information is true to the best of my knowledge.
                    </label><br><br>
                    <button name="submit" type="submit" value="<%=currUser1.aadhaar %>" class="btn btn-danger">Submit</button>

                  </div>
              
                

                </div>
                <br>




              </form>





          </div>


          <%- include("partials/footer") %>
